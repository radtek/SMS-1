@using Bec.TargetFramework.Web.Framework.Extensions
@model Bec.TargetFramework.Entities.AddressDTO
           
<s


@(Html.X().Panel().Layout(LayoutType.Column).ColumnWidth(1).ID("X_InternationalAddress").Items(
       
          Html.X().Container().Layout(LayoutType.Fit).ColumnWidth(0.5).Padding(2).Items(
                      Html.X().TextFieldFor(model => model.Line1).ID("X_Line1").Padding(2).ApplyFieldDefaults("InternationalAddress", "AddressLine1").Flex(1).AllowBlank(false).Flex(1),
                          Html.X().TextFieldFor(model => model.Line2).ID("X_Line2").Padding(2).ApplyFieldDefaults("InternationalAddress", "AddressLine2").Flex(1),
                          Html.X().TextFieldFor(model => model.City).ID("X_City").Padding(2).ApplyFieldDefaults("InternationalAddress", "Town/City").Flex(1)
          )
      ,
          Html.X().Container().Layout(LayoutType.Fit).ColumnWidth(0.5).Padding(2).Items(
           Html.X().HiddenFor(h => h.ID),
                          Html.X().TextFieldFor(model => model.County).ID("X_County").Padding(2).ApplyFieldDefaults("InternationalAddress", "County").Flex(1),
                              Html.X().TextFieldFor(model => model.PostalCode).ID("X_PostalCode").Padding(2).ApplyFieldDefaults("InternationalAddress", "Postcode").Flex(1),
                          Html.X().ComboBoxFor(model => model.CountryCode).ID("X_CountryCode").Padding(2).ApplyComboxDefaults(Razor.ApplyComboBoxClassificationDefaults).MinWidth(100)
              .FieldLabel("Country")
              .Store(Html.X().Store().AutoLoad(true)
                  .Model(Html.X()
                      .Model().Name("CountryCode")
                      .Fields(fields =>
                      {
                          fields.Add(new ModelField("CountryCode"));
                          fields.Add(new ModelField("CountryName"));
                      })
                      .Proxy(proxy => proxy.Add(Html.X()
                          .AjaxProxy()
                          .Url(Url.Action("GetCountryList", "Reference", new {area = ""}))
                          .Reader(reader => reader.Add(Html.X()
                              .JsonReader()
                              .Root("data")
                                  .IDProperty("CountryCode"))))))).DisplayField("CountryName").ValueField("CountryCode").Flex(1)
          )
      )



      )