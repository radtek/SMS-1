@using Ext.Net;
@using Ext.Net.MVC;
@using Bec.TargetFramework.Web.Framework.Extensions
@using NHibernate.Cfg.ConfigurationSchema

@model Bec.TargetFramework.Entities.LoginDTO

@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_BaseLayout.cshtml";
}

@section headtag
{
    <script src="~/Scripts/TargetFramework/Grid.js"></script>
    <script src="~/Scripts/TargetFramework/Ext.js"></script>
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>

}


@section mainBody
{
    @(Html.X().Viewport().OverflowX(Overflow.Auto).OverflowY(Overflow.Auto)
          .Items
          (
              Html.X().Panel().ItemsFromPage(this, "~/Views/Portal/_TopBar.cshtml"),
              Html.X().Panel().LayoutConfig(new HBoxLayoutConfig { Align = HBoxAlign.Middle, Pack = BoxPack.Center }).Layout(LayoutType.HBox).BodyPadding(5).Region(Region.Center).Padding(5).Flex(1)
                  .Items(
                      Html.X().Container().Html("<br/>"),
                      Html.X().Image()
                          .Frame(false)
                                .ImageUrl((@Url.Content("~/Content/resources/images/STS/MakingPropertyTransactionSaferResized.jpg"))).Height(225).Width(800)
                  )
              ,
              Html.X().Panel().ID("loginpanel").LayoutConfig(new HBoxLayoutConfig {Align = HBoxAlign.Middle, Pack = BoxPack.Center}).Layout(LayoutType.HBox).BodyPadding(5).Region(Region.Center).Padding(5).Flex(1)
                                               
                  .Items
                  (
                      
                      Html.X().Container(),
                      Html.X().FormPanel()
                          .Width(440)
                          .PaddingSpec("5 5 5 5")
                          .ID("Login")
                          .Border(true)
                          .ApplyFormPanelDefaults(Razor.ApplyFormPanelDefaults)
                          .Url(Url.Action("Index", "Login"))
                          .BodyStyle("background:transparent;")
                          
                          .Items
                          (
                          Html.X().Panel().ApplyPanelDefaults("Login")
                            .Items
                                (
                              Html.X().MultiSelect().ID("LoginFormErrors").Hidden(true),
                              Html.X().AntiForgeryField(),
                                                      Html.X().Panel().Layout(LayoutType.Column).ColumnWidth(1).Padding(2).Items(
                                      Html.X().TextFieldFor(m => m.Username).ApplyFieldDefaults("Login", "Username").Width(300).Padding(5).TabIndex(1),
                                                      Html.X().LinkButton().ID("forgotusername").Text("Forgot Username").PaddingSpec("30 0 0 5").Cls("x-form-item-linkbtn")
                                  .Listeners(l => l.Click.Handler = "window.location = '" + Url.Action("Index", "ForgottenUsername", new {area = "STSLogin"}) + "'")),
                                   Html.X().Panel().Layout(LayoutType.Column).ColumnWidth(1).Padding(2).Items(
                              Html.X().TextFieldFor(m => m.Password)
                                  .Width(415)
                                  .Padding(5)
                                  .InputType(Ext.Net.InputType.Password).ApplyFieldDefaults("Login", "Password").Width(300).Padding(5).TabIndex(1),
                                              Html.X().LinkButton().ID("forgotpassword").Text("Forgot Password").PaddingSpec("30 0 0 5").Cls("x-form-item-linkbtn")
                                   .Listeners(l => l.Click.Handler = "window.location = '" + Url.Action("Index", "ForgottenPassword", new { area = "STSLogin" }) + "'")),
                             Html.X().Container().PaddingSpec("10 10 10 67").Layout(LayoutType.HBox).LayoutConfig(new HBoxLayoutConfig { Align = HBoxAlign.Middle, Pack = BoxPack.Center })
                              .Items(
                                              Html.X().Button().ApplyButtonDefaults(Razor.ApplySTSGreyButtonDefaults).Text("Login").Flat(true).DirectEvents(de =>
                                  {
                                      de.Click.Before = "return #{Login}.isValid();";
                                      de.Click.Url = Url.Action("Index", "Login", new { area = "STSLogin" });
                                      de.Click.FormID = "Login";
                                      de.Click.EventMask.ShowMask = true;
                                      de.Click.EventMask.Msg = "Please wait ...";
                                  }))
                          )
                          )
                                 
                  ),
                           Html.X().Panel().LayoutConfig(new HBoxLayoutConfig { Align = HBoxAlign.Middle, Pack = BoxPack.Center }).Layout(LayoutType.HBox).BodyPadding(5)

                          .Items(
                                                          Html.X().Container().Width(425).PaddingSpec("0 2 0 0").Cls("paragraph-text")
                                                      .Html("Please note that it is a criminal offense to falsely represent your identity as that of another person (Fraud Act 2006). <br/> <br/>Logging in to the Safe Move Scheme using login details that do not belong to you, for whatever reason, is considered a false representation.<br/><br/>It is important that you do not, under any circumstances, share your login details with anyone and you must take all reasonable measures to protect your log-on details.")
                                          )
              
              
                
          ))
}