<!-- MAIN CONTENT -->
@{
    var roleId = default(Guid);
    Guid.TryParse(Convert.ToString(TempData["calloutRoleId"]), out roleId);
}
<div id="content">
    <div class="row">
        <div class="col-sm-5 col-lg-6">
            <h2 class="row-seperator-header inline-heading"><i class="fa fa-lg fa-support margin-right-10"></i>View Callouts</h2>
            <a data-href="@Url.Action("ViewAddCallout", "Callout", new { area  = "Admin" })" class="btn btn-primary btn-sm inline-heading" data-modallink="true"><i class="fa fa-plus margin-right-5"></i>Add Callout</a>
        </div>
        <div class="col-sm-7 col-lg-6 margin-top-15 margin-bottom-5">
            <div class="col-md-8 smart-form">
                <label class="select">
                    @Html.DropDownListFor(m => roleId, new SelectList(ViewBag.roles, "Value", "Text", roleId), "Please select", new { tabindex = "1", id = "roleDropdown", style = "width:200px;float:right" })
                    <i></i>
                </label>
                <label for="roleDropdown" style="float:right;color:#808080; margin-right:5px; margin-top:5px">User Role:&nbsp;</label>
            </div>
            <div class="col-md-4">
                <a id="viewCalloutOrder" data-href="@(roleId != null && roleId != default(Guid) ? Url.Action("ViewCalloutOrder", "Callout", new { area = "Admin", RoleId = roleId }) : "")" @(roleId != null && roleId != default(Guid) ? "" : "disabled") data-url="@Url.Action("ViewCalloutOrder", "Callout", new { area = "Admin" })" class="btn btn-primary btn-sm" data-modallink="true" style="float:right"><i class="fa fa-plus margin-right-5"></i>View Callout Order</a>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <ul id="tabList" class="nav nav-tabs bordered" role="tablist" data-selected="@TempData["tabIndex"]">
                <li><a href="#s1">Callouts </a></li>
                <li><a href="#s2">History </a></li>
            </ul>
            <div id="tabContent" class="tab-content padding-10">

                <div class="tab-pane fade in active" id="s1" role="tabpanel">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="well">
                                <div id="callGrid" data-url="@Url.Action("GetCallouts", "Callout", new { area = "Admin"})" data-jumpto="@TempData["CalloutId"]" data-jumptopage="@TempData["pageNumber"]"></div>
                            </div>
                        </div>
                    </div>

                    <div class="row hidden" id="nPanel">
                        <div class="col-sm-6">
                            <!-- well -->
                            <div class="well">
                                <a id="editButtonCallout" class="btn btn-primary btn-sm" data-modallink="true" data-url="@Url.Action("ViewEditCallout", "Callout", new { area = "Admin" })"><i class="fa fa-pencil margin-right-5"></i>Edit Callout</a>
                                <a id="deleteButtonCallout" class="btn btn-primary btn-sm" data-modallink="true" data-url="@Url.Action("ViewDeleteCallout", "Callout", new { area = "Admin" })"><i class="fa fa-times margin-right-5"></i>Delete Callout</a>
                                <h5>Selected Callout</h5>
                                <dl class="dl-horizontal">
                                    <dt>Title:</dt>
                                    <dd><p id="ddnTitle"></p></dd>
                                    <dt>Role:</dt>
                                    <dd><p id="ddnRole"></p></dd>
                                    <dt>Selector:</dt>
                                    <dd><p id="ddnSelector"></p></dd>
                                    <dt>Position:</dt>
                                    <dd><p id="ddnPosition" style="text-transform: capitalize"></p></dd>
                                    <dt>Effective On:</dt>
                                    <dd><p id="ddnEffectiveOn"></p></dd>
                                    <dt>Created On:</dt>
                                    <dd><p id="ddnCreatedOn"></p></dd>
                                    <dt>Created By:</dt>
                                    <dd><p id="ddnCreatedBy"></p></dd>
                                    <dt>Modified On:</dt>
                                    <dd><p id="ddnModifiedOn"></p></dd>
                                    <dt>Modified By:</dt>
                                    <dd><p id="ddnModifiedBy"></p></dd>

                                </dl>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <!-- well -->
                            <div class="well">
                                <h5>Content:</h5>
                                <div id="ddnDescription" style="margin-left:16px;"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="s2" role="tabpanel">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="well">
                                <div id="hisGrid" data-url="@Url.Action("GetViewedCallouts", "Callout", new { area = "Admin" })"></div>
                            </div>
                        </div>
                    </div>

                    <div class="row hidden" id="ePanel">
                        <div class="col-sm-6">
                            <!-- well -->
                            <div class="well">
                                <h5>Selected Viewed Callout</h5>
                                <dl class="dl-horizontal">
                                    <dt>Title:</dt>
                                    <dd><p id="ddeTitle"></p></dd>
                                    <dt>Role:</dt>
                                    <dd><p id="ddeRole"></p></dd>
                                    <dt>User:</dt>
                                    <dd><p id="ddeUser"></p></dd>
                                    <dt>Viewed Date:</dt>
                                    <dd><p id="ddeViewedDate"></p></dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

        </div>
    </div>
</div>

@section Scripts {
    <script async src="@Scripts.Url("~/Scripts/Admin/Callout/Index")"></script>
}