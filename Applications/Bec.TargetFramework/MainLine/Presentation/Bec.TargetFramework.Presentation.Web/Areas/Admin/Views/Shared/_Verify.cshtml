@model VerifyCompanyDTO
@using Bec.TargetFramework.Infrastructure.Extensions
@using Bec.TargetFramework.Entities
@using Bec.TargetFramework.Entities.Enums
@{
    List<SelectListItem> regulators = new List<SelectListItem>
    {
        new SelectListItem{Text = "SRA", Value="SRA"},
        new SelectListItem{Text = "CLC", Value="CLC"}
    };
}

<div class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="verifyLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="verifyLabel">Verify Company</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-12">
                        <form action="@Url.Action("Verify", "Company", new { area = "Admin" })" method="POST" id="verify-form" class="smart-form">
                            @Html.ValidationBootstrap()
                            @Html.AntiForgeryToken()
                            @Html.HiddenFor(m => m.OrganisationID)
                            @Html.HiddenFor(m => m.UaoID)

                            @if (Model.OrganisationType == OrganisationTypeEnum.Professional.GetStringValue())
                            {
                                <fieldset>
                                    <legend>General Details</legend>
                                    <div class="row">
                                        <section class="col col-12">
                                            <label class="label">Please enter the phone number, shown on the <strong>regulator's website</strong> that you are about to contact the company on.</label>
                                        </section>
                                    </div>
                                    <div class="row">
                                        <section class="col col-6">
                                            <label class="label">Phone Number</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                                @Html.TextBoxFor(m => m.PhoneNumber, new { maxlength = 20, tabindex = 1 })
                                            </label>
                                        </section>
                                    </div>

                                    <div class="row">
                                        <section class="col col-12">
                                            <label class="label">Please enter the organisation name and regulator's number, as shown on the <strong>regulator's website</strong>.</label>
                                        </section>
                                    </div>
                                    <div class="row">
                                        <section class="col col-8">
                                            <label class="label">Organisation Name</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                                @Html.TextBoxFor(m => m.OrganisationName, new { maxlength = 500, tabindex = 2 })
                                            </label>
                                        </section>
                                        <section class="col col-4">
                                            <label class="label">Regulator</label>
                                            <label class="select">
                                                @Html.DropDownListFor(m => m.RegulatorName, new SelectList(regulators, "Value", "Text"), "Please Select", new { tabindex = "3", @class = "form-control" })
                                                <i></i>
                                            </label>
                                        </section>
                                    </div>

                                    <div class="row">
                                        <section class="col col-6">
                                            <label class="label">Regulator's Number</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                                @Html.TextBoxFor(m => m.RegulatorNumber, new { maxlength = 50, tabindex = 4, data_url = Url.Action("Check", "CompanyDuplicateCheck", new { Area = "", orgID = Model.OrganisationID }) })
                                            </label>
                                        </section>
                                        <section class="col col-6">
                                            <label class="label">Number of Files per Month</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                                @Html.TextBoxFor(m => m.FilesPerMonth, new { maxlength = 10, tabindex = 5 })
                                            </label>
                                        </section>
                                    </div>
                                </fieldset>
                                <fieldset>
                                    <legend>Approved Manager Details</legend>
                                    <div class="row">
                                        <section class="col col-sm-4">
                                            <label class="label">Title</label>
                                            <label class="select">
                                                @Html.DropDownListFor(m => m.Salutation, Html.EnumListString<SalutationEnum>(), "Please Select", new { tabindex = 6 })
                                                <i></i>
                                            </label>
                                        </section>
                                        <section class="col col-sm-4">
                                            <label class="label">First Name</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-asterisk" style="font-size: 0.7em;"></i>
                                                @Html.TextBoxFor(m => m.FirstName, new { tabindex = 7, maxlength = 50 })
                                            </label>
                                        </section>
                                        <section class="col col-sm-4">
                                            <label class="label">Last Name</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-asterisk" style="font-size: 0.7em;"></i>
                                                @Html.TextBoxFor(m => m.LastName, new { tabindex = 8, maxlength = 50 })
                                            </label>
                                        </section>
                                    </div>
                                    <div class="row">
                                        <section class="col col-sm-8">
                                            <label class="label">Email</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-asterisk" style="font-size: 0.7em;"></i>
                                                @Html.TextBoxFor(m => m.Email, new { tabindex = 9, maxlength = 100, type = "email", data_url = Url.Action("CheckEmailProfessional", "App", new { Area = "", uaoID = Model.UaoID }) })
                                            </label>
                                        </section>
                                    </div>
                                </fieldset>
                                <fieldset>
                                    <div class="row">
                                        <section class="col col-sm-12">
                                            <label class="checkbox">
                                                @Html.CheckBoxFor(m => m.IsAuthorityDelegated, new { tabindex = "10" })
                                                <i></i>
                                                <label for="@Html.IdFor(m => m.IsAuthorityDelegated)">Delegate the SRO Authority To</label>
                                            </label>
                                        </section>
                                    </div>
                                    <div id="authorityDelgationDetails">
                                        <div class="row">
                                            <section class="col col-sm-4">
                                                <label class="label">Title</label>
                                                <label class="select">
                                                    @Html.DropDownListFor(m => m.AuthorityDelegatedToSalutation, Html.EnumListString<SalutationEnum>(), "Please Select", new { tabindex = 11 })
                                                    <i></i>
                                                </label>
                                            </section>
                                            <section class="col col-sm-4">
                                                <label class="label">First Name</label>
                                                <label class="input">
                                                    <i class="icon-append fa fa-asterisk" style="font-size: 0.7em;"></i>
                                                    @Html.TextBoxFor(m => m.AuthorityDelegatedToFirstName, new { tabindex = 12, maxlength = 50 })
                                                </label>
                                            </section>
                                            <section class="col col-sm-4">
                                                <label class="label">Last Name</label>
                                                <label class="input">
                                                    <i class="icon-append fa fa-asterisk" style="font-size: 0.7em;"></i>
                                                    @Html.TextBoxFor(m => m.AuthorityDelegatedToLastName, new { tabindex = 13, maxlength = 50 })
                                                </label>
                                            </section>
                                        </div>
                                        <div class="row">
                                            <section class="col col-sm-8">
                                                <label class="label">Email</label>
                                                <label class="input">
                                                    <i class="icon-append fa fa-asterisk" style="font-size: 0.7em;"></i>
                                                    @Html.TextBoxFor(m => m.AuthorityDelegatedToEmail, new { tabindex = 14, maxlength = 100, type = "email" })
                                                </label>
                                            </section>
                                        </div>
                                    </div>
                                </fieldset>
                            }
                            else
                            {
                                <fieldset>
                                    <div class="row">
                                        <section class="col col-12">
                                            <label class="label">Are you sure you want to verify @Model.OrganisationName?</label>
                                        </section>
                                    </div>
                                </fieldset>
                            }
                        </form>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="cancelVerify" class="btn btn-default" data-dismiss="modal" tabindex="16">
                    Cancel
                </button>
                <button type="button" id="submitVerify" class="btn btn-primary" tabindex="15">
                    Verify Company
                </button>
            </div>
        </div>
    </div>
</div>
<script async src="@Scripts.Url("~/Scripts/Admin/Shared/_Verify")"></script>