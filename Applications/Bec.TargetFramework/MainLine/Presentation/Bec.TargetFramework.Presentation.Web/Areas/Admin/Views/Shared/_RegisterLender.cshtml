@using Bec.TargetFramework.Entities
@using Bec.TargetFramework.Entities.Enums
@model AddCompanyDTO

<div class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="registerLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="registerLabel">Register Lender</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-12">
                        <form action="@Url.Action("RegisterLender", "Company", new { area = "Admin" })" method="POST" id="registerlender-form" class="smart-form"
                              data-lender-search-url="@Url.Action("searchlenders", "App" , new { area="" })"
                              data-lender-dupe-check-url="@Url.Action("CheckLenderExists", "Company" , new { area="Admin" })">
                            @Html.ValidationBootstrap()
                            @Html.AntiForgeryToken()
                            @Html.HiddenFor(m => m.OrganisationType)
                            <fieldset>

                                <div class="row">
                                    <section class="col col-6">
                                        <label class="label">Lender Name</label>
                                        <label class="input">
                                            <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                            @Html.TextBoxFor(m => m.CompanyName, new { tabindex = "1", maxlength = 50, @class = "form-control", id = "companyName", data_rule_lenderDupeCheck = true, data_lender_dupe_check_url = Url.Action("CheckLenderExists", "Company", new { Area = "Admin" }) })
                                            <span class="typeahead-spinner required-field"><i class="fa fa-pulse fa-spinner"></i></span>
                                        </label>
                                    </section>
                                    <section class="col col-6">
                                        <label class="label">Department</label>
                                        <label class="input">
                                            <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                            @Html.TextBoxFor(m => m.RegulatorOther, new { tabindex = "2", maxlength = 50, @class = "form-control" })
                                        </label>
                                    </section>
                                </div>

                                <div class="row" id="tradingNameRow0">
                                    <section class="col col-8">
                                        <label class="label">Trading Names</label>
                                        <label class="input">
                                            <input type="text" name="TradingNames[0]" maxlength="200" class="form-control" tabindex="3" data-rule-lenderdupecheck="true"
                                                   data-url="@Url.Action("SearchLenders", "App", new { Area = "" })"
                                                   data-lender-dupe-check-url="@Url.Action("CheckLenderExists", "Company" , new { area="Admin" })" />
                                            <span class="typeahead-spinner required-field"><i class="fa fa-pulse fa-spinner"></i></span>
                                        </label>
                                    </section>
                                    <section class="col-sm-1">
                                        <label class="label">&nbsp;</label>
                                        <a style="display: none;" data-parent-id="tradingNameRow0"><!-- Not Displayed --></a>
                                    </section>
                                </div>
                                <div id="addNextTradingNameRow" class="row" data-templateurl="@Url.Action("GetTemplate", "App", new { area = "" })">
                                    <section class="col col-5">
                                        <a id="addNextTradingNameBtn" href="#" class="add-next-trading-name"><i class="fa fa-plus margin-right-10"></i>Add</a>
                                    </section>
                                </div>

                                <div class="row">
                                    <section class="col col-2">
                                        <label class="label">Title</label>
                                        <label class="input">
                                            @Html.DropDownListFor(m => m.OrganisationAdminSalutation, Html.EnumListString<SalutationEnum>(), "Select", new { @class = "form-control", tabindex = "20" })
                                        </label>
                                    </section>
                                    <section class="col col-4">
                                        <label class="label">First Name</label>
                                        <label class="input">
                                            <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                            @Html.TextBoxFor(m => m.OrganisationAdminFirstName, new { tabindex = "21", maxlength = 50, @class = "form-control" })
                                        </label>
                                    </section>
                                    <section class="col col-6">
                                        <label class="label">Last Name</label>
                                        <label class="input">
                                            <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                            @Html.TextBoxFor(m => m.OrganisationAdminLastName, new { tabindex = "22", maxlength = 50, @class = "form-control" })
                                        </label>
                                    </section>
                                </div>

                                <div class="row">
                                    <section class="col col-6">
                                        <label class="label">Contact Number</label>
                                        <label class="input">
                                            <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                            @Html.TextBoxFor(m => m.OrganisationAdminTelephone, new { tabindex = "23", maxlength = 50, @class = "form-control" })
                                        </label>
                                    </section>

                                    <section class="col col-6">
                                        <label class="label">Email Address</label>
                                        <label class="input">
                                            <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                            @Html.TextBoxFor(m => m.OrganisationAdminEmail, new { autocomplete = "off", tabindex = "24", maxlength = 100, type = "email", data_url = Url.Action("CheckForAdminRegistration", "EmailCheck", new { Area = "" }), @class = "form-control" })
                                        </label>
                                    </section>
                                </div>

                                <div class="row">
                                    <section class="col col-6">
                                        <label class="label">Job Title</label>
                                        <label class="input">
                                            <i class="icon-append fa fa-asterisk" style="font-size:0.7em;"></i>
                                            @Html.TextBoxFor(m => m.Regulator, new { tabindex = "25", maxlength = 50, @class = "form-control" })
                                        </label>
                                    </section>
                                </div>

                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button typw="button" id="cancelRegister" class="btn btn-default" data-dismiss="modal" tabindex="27">
                    Cancel
                </button>
                <button type="button" id="submitRegister" class="btn btn-primary" tabindex="26">
                    Add Lender
                </button>
            </div>
        </div>
    </div>
</div>
@Scripts.Render("~/Scripts/typeahead")
@Scripts.Render("~/Scripts/lendersearch")
<script async src="@Scripts.Url("~/Scripts/Admin/Shared/_RegisterLender")"></script>