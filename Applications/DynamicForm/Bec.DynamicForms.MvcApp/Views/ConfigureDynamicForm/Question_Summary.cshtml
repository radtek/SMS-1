@model IEnumerable<Bec.DynamicForms.Models.QuestionModels>

@{
    ViewBag.Title = "Forms_Summary";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section PageScripts {
    <script type="text/javascript" language="javascript">
        head.js("@Url.Content("~/Scripts/jquery/jquery.json-2.2.min.js")");

       

        
        
     
        function ToggleForm(sectionId, status) {
       
        $.ajax(
               {
                  type: 'POST',
                  url: "@Url.Action("Section_ChangeStatus", "ConfigureDynamicForm")",
                   data: $.toJSON
                       ({
                           sectionId: sectionId,
                      status: status
                  }),
                  success: function (data) {


                },
                dataType: "json",
                contentType: 'application/json; charset=utf-8'
               });

        window.event.returnValue = false;
        document.location = '@Url.Action("Section_Summary", "ConfigureDynamicForm")';



    }


</script>
}

<div id="fullcol">
    <div class="portlet rnd">
        <div class="portlet-header"><h2>Questions</h2></div>
        <div class="portlet-content">

            <div class="row">                                
                <a href="@Url.Action("Forms_Summary", "ConfigureDynamicForm")" class="btn">Back</a>              
                </div>
                <table class="table" style="width:100%">
                    <tr>

                        <th>
                           Name
                        </th>
                        <th>
                           Description
                        </th>
                        
                        <th></th>
                        <th></th>
                    </tr>

                    @foreach (var item in Model)
                    {
                        <tr>
                            
                            <td>
                                @Html.DisplayFor(modelItem => item.Description)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.QuestionNo)
                            </td>
                           
                            <td>                                
                                @Html.ActionLink("Edit", "Question_Edit", new { id = item.QuestionId }, new { @class = "btn" }) | 
                                <a href="@Url.Action("Question_AddChild", "ConfigureDynamicForm", new { QuestionId = item.QuestionId })" class="btn">Add Child Questions</a>| 
                                <a href="@Url.Action("Question_Demote", "ConfigureDynamicForm", new { QuestionId = item.QuestionId })" class="btn">Demote</a>
                            </td>
                            <td><a href="@Url.Action("Question_MoveDown", "ConfigureDynamicForm", new { QuestionId = item.QuestionId})" class="btn"><img src='/Content/img/down-arrow-green.png' alt="Down" /></a>
                                <a href="@Url.Action("Question_MoveDown", "ConfigureDynamicForm", new { QuestionId = item.QuestionId})" class="btn"><img src='/Content/img/down-arrow-green.png' alt="Up" /></a>
                            </td>
                        </tr>
                        foreach (var child in item.ChildList)
                        {
                             <tr>
                            
                            <td>
                                @Html.DisplayFor(modelItem => child.Description)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => child.QuestionNo)
                            </td>
                           
                            <td>                                
                                @Html.ActionLink("Edit", "Question_Edit", new { id = child.QuestionId }, new { @class = "btn" }) | 
                                <a href="@Url.Action("Question_AddChild", "ConfigureDynamicForm", new { QuestionId = child.QuestionId })" class="btn">Add Child Questions</a>| 
                                <a href="@Url.Action("Question_Demote", "ConfigureDynamicForm", new { QuestionId = child.QuestionId })" class="btn">Demote</a>
                            </td>
                                 <td>
                                     <a href="@Url.Action("Question_MoveDown", "ConfigureDynamicForm", new { QuestionId = child.QuestionId })" class="btn"><img src='/Content/img/down-arrow-green.png' alt="Down" /></a>
                                     <a href="@Url.Action("Question_MoveDown", "ConfigureDynamicForm", new { QuestionId = child.QuestionId })" class="btn"><img src='/Content/img/down-arrow-green.png' alt="Up" /></a>
                                 </td>
                        </tr>
                         foreach (var grand in child.ChildList)
                        {
                             <tr>
                            
                            <td>
                                @Html.DisplayFor(modelItem => child.Description)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => child.QuestionNo)
                            </td>
                           
                            <td>                                
                                @Html.ActionLink("Edit", "Question_Edit", new { id = child.QuestionId }, new { @class = "btn" }) | 
                                <a href="@Url.Action("Question_AddChild", "ConfigureDynamicForm", new { QuestionId = child.QuestionId })" class="btn">Add Child Questions</a>| 
                                <a href="@Url.Action("Question_Demote", "ConfigureDynamicForm", new { QuestionId = child.QuestionId })" class="btn">Demote</a>                                
                                
                             </td>
                                 <td>
                                     <a href="@Url.Action("Question_MoveDown", "ConfigureDynamicForm", new { QuestionId = child.QuestionId })" class="btn"><img src='/Content/img/down-arrow-green.png' alt="Down" /></a>
                                     <a href="@Url.Action("Question_MoveDown", "ConfigureDynamicForm", new { QuestionId = child.QuestionId })" class="btn"><img src='/Content/img/down-arrow-green.png' alt="Up" /></a>
                                 </td>
                        </tr>
                        }
                        }
                       
                    }

                </table>
            </div></div></div>
